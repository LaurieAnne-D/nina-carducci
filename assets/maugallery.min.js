function mauGallery(e,t){e=Object.assign({columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"top",navigation:!0},e),createRowWrapper(t),e.lightBox&&createLightBox(t,e.lightboxId,e.navigation);let l=[];t.querySelectorAll(".gallery-item").forEach(t=>{responsiveImageItem(t),moveItemInRowWrapper(t),wrapItemInColumn(t,e.columns);let a=t.dataset.galleryTag;e.showTags&&a&&!l.includes(a)&&l.push(a),t.addEventListener("click",()=>{openLightBox(t,e.lightboxId)})}),e.showTags&&showItemTags(t,e.tagsPosition,l),t.style.display="block",t.style.opacity=0,setTimeout(()=>{t.style.opacity=1},500)}function createRowWrapper(e){if(!e.firstElementChild||!e.firstElementChild.classList.contains("row")){let t=document.createElement("div");t.className="gallery-items-row row",e.appendChild(t)}}function wrapItemInColumn(e,t){let l="";"number"==typeof t?l=`col-${Math.ceil(12/t)}`:"object"==typeof t?(t.xs&&(l+=` col-${Math.ceil(12/t.xs)}`),t.sm&&(l+=` col-sm-${Math.ceil(12/t.sm)}`),t.md&&(l+=` col-md-${Math.ceil(12/t.md)}`),t.lg&&(l+=` col-lg-${Math.ceil(12/t.lg)}`),t.xl&&(l+=` col-xl-${Math.ceil(12/t.xl)}`)):console.error(`Les colonnes doivent \xeatre d\xe9finies comme des nombres ou des objets. ${typeof t} n'est pas pris en charge.`);let a=document.createElement("div");a.className=`item-column mb-4 ${l}`,e.parentNode.insertBefore(a,e),a.appendChild(e)}function moveItemInRowWrapper(e){let t=e.closest(".gallery").querySelector(".gallery-items-row");t.appendChild(e)}function responsiveImageItem(e){"IMG"===e.tagName&&e.classList.add("img-fluid")}function openLightBox(e,t){let l=document.getElementById(t),a=l.querySelector(".lightboxImage");a.src=e.src;let i=new bootstrap.Modal(l);i.show()}function prevImage(e){let t=document.querySelector(`#${e} .lightboxImage`),l=Array.from(document.querySelectorAll("img.gallery-item")),a=l.find(e=>e.src===t.src),i=l.indexOf(a),o=(i-1+l.length)%l.length;t.src=l[o].src}function nextImage(e){let t=document.querySelector(`#${e} .lightboxImage`),l=Array.from(document.querySelectorAll("img.gallery-item")),a=l.find(e=>e.src===t.src),i=l.indexOf(a),o=(i+1)%l.length;t.src=l[o].src}function createLightBox(e,t,l){let a=document.createElement("div");a.className="modal fade",a.id=t||"galleryLightbox",a.tabIndex=-1,a.role="dialog",a.ariaHidden=!0,a.innerHTML=`
          <div class="modal-dialog" role="document">
              <div class="modal-content">
                  <div class="modal-body">
                      ${l?'<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;"><</div>':""}
                      <img class="lightboxImage img-fluid" alt="Contenu de l'image affich\xe9e dans la modale au clique"/>
                      ${l?'<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}">></div>':""}
                  </div>
              </div>
          </div>`,e.appendChild(a),l&&(a.querySelector(".mg-prev").addEventListener("click",()=>prevImage(a.id)),a.querySelector(".mg-next").addEventListener("click",()=>nextImage(a.id)))}function showItemTags(e,t,l){let a='<li class="nav-item"><span class="nav-link active active-tag" data-images-toggle="all">Tous</span></li>';l.forEach(e=>{a+=`<li class="nav-item"><span class="nav-link" data-images-toggle="${e}">${e}</span></li>`});let i=document.createElement("ul");i.className="my-4 tags-bar nav nav-pills",i.innerHTML=a,"bottom"===t?e.appendChild(i):"top"===t?e.insertBefore(i,e.firstChild):console.error(`Position des tags inconnue : ${t}`),i.addEventListener("click",function(e){let t=e.target;t.classList.contains("nav-link")&&filterByTag(t)})}function filterByTag(e){if(e.classList.contains("active-tag"))return;document.querySelector(".active.active-tag").classList.remove("active","active-tag"),e.classList.add("active","active-tag");let t=e.dataset.imagesToggle;document.querySelectorAll(".gallery-item").forEach(e=>{let l=e.closest(".item-column");l.style.display="none",("all"===t||e.dataset.galleryTag===t)&&(l.style.display="block")}),mauGallery()}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".gallery");e.forEach(e=>{mauGallery({columns:{xs:1,sm:2,md:3,lg:3,xl:3},lightBox:!0,lightboxId:"myAwesomeLightbox",showTags:!0,tagsPosition:"top"},e)})});